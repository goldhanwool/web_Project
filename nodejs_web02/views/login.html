<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <title>로그인</title>
</head>

<style type="text/css">
    * {
        font-family: "Do Hyeon", sans-serif;
    }

    .modu {
        text-align: center;
    }

    button {
        background-color: #4CAF50;
        width: 200px;
        height: 50px;
        margin-top: 30px;
    }
</style>

<body>
    <div class="modu">
        <p>아이디</p>
        <input type="text" id="inputEmail">
    </div>
    <div class="modu">
        <p>비밀번호</p>
        <input type="text" id="inputPassword">
    </div>
    <div class="modu">
        <button type="button" onclick="sign_in()">Login</button><br/>
        <button type="button" onclick="location.href='/register'">register</button>
    </div>
</body>

<script>

function sign_in() {
        let email = $("#inputEmail").val();
        let password = $("#inputPassword").val();
        $.ajax({
          type: "POST",
          url: "/auth",
          data: {
            email: email,
            password: password,
          },
          success: function (response) {
            localStorage.setItem("token", response.token);
            window.location.replace("/blog");
          },
          error: function (error) {
            alert('올바른형식이 아닙니다')
          },
        });
      }


</script>

</html>